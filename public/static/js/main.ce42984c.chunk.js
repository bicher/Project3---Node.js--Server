(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(67)},45:function(e,t,a){},50:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),l=(a(45),a(4)),i=a(5),o=a(7),m=a(6),u=a(8),d=a(13),p=(a(50),a(51),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"credits ml-auto"},r.a.createElement("span",{className:"copyright"},"\xa9 ",(new Date).getFullYear()," ",r.a.createElement("a",{href:"/"}," Made by Israel Bicher."))))))}}]),t}(n.Component)),h=a(20),f=a(12),v=a.n(f),g=a(16),b=a(19),E=function(e){return function(){var t=Object(g.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a({type:"LOGIN",data:r});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(g.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a({type:"REGISTER",data:r});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},O=a(15),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstname:"",lastname:"",username:"",password:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-xl-5 col-lg-6 col-md-10 col-sm-12 mx-auto mt-lg-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"Register Page"),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"firstname",type:"text",placeholder:"First Name",className:"form-control"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"lastname",type:"password",placeholder:"Last Name",className:"form-control"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"username",type:"text",placeholder:"Username",className:"form-control"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"password",type:"password",placeholder:"Password",className:"form-control"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.register.bind(this)},"Sign up"),r.a.createElement("hr",null),"Already have an account?",r.a.createElement(O.b,{to:"/login",id:"linkB"}," Sign in")))))}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"register",value:function(){var e=Object(g.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===(t=this.state).firstname?alert("First Name required!"):""===t.lastname?alert("Last Name required!"):""===t.username?alert("Username required!"):""===t.password?alert("Password required!"):(this.props.registerRequest(N(this.state)),alert("Register Successful"),this.props.history.push("/login"));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),y=Object(d.b)(function(e){return{msg:e.msg}},function(e){return{registerRequest:function(t){return e(t)}}})(j),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-xl-5 col-lg-6 col-md-10 col-sm-12 mx-auto mt-lg-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"Login Page"),r.a.createElement("div",{className:"md-form"},r.a.createElement("i",{className:"fa fa-user prefix"}),r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"username",type:"text",placeholder:"Username",className:"form-control"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"md-form"},r.a.createElement("i",{className:"fa fa-lock prefix"}),r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"password",type:"password",placeholder:"password",className:"form-control"})),r.a.createElement("div",{className:"md-form"},this.props.msg),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.login.bind(this)},"Login"),r.a.createElement("hr",null),"Don't have an account?",r.a.createElement(O.b,{to:"/register",id:"linkB"}," Sign up!")))))}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"login",value:function(){var e=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.username?this.state.password?this.props.loginRequest(E(this.state)):alert("password required!"):alert("Username required!");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),C=Object(d.b)(function(e){return{isLogged:e.isLogged,role:e.role}},function(e){return{loginRequest:function(t){return e(t)}}})(w),x=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"Trip Tours"),r.a.createElement("h4",{className:"description"},"Your Vacation Starts Here...")),r.a.createElement("div",{className:"row"},r.a.createElement(h.a,{exact:!0,path:"/",component:C}),r.a.createElement(h.a,{path:"/login",component:C}),r.a.createElement(h.a,{path:"/register",component:y}))))}}]),t}(n.Component),k=a(73),L=a(69),S=a(70),T=a(71),A=a(72),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={modal:e.initialModalState,destination:a.props.forModal.destination,startdate:a.props.forModal.startdate,enddate:a.props.forModal.enddate,details:a.props.forModal.details,price:a.props.forModal.price},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"modalEdit"},r.a.createElement("span",{className:"fa fa-edit top-right",onClick:this.toggle.bind(this)},"Edit"),r.a.createElement(k.a,{isOpen:this.state.modal,toggle:this.toggle.bind(this),className:this.props.className},r.a.createElement(L.a,{toggle:this.toggle.bind(this)},r.a.createElement("h4",null,"Edit This Vacation")),r.a.createElement(S.a,null,r.a.createElement("div",{className:"vacations"},r.a.createElement("div",{className:"card card-image",style:{backgroundImage:"url(".concat(this.props.forModal.image,")")}},r.a.createElement("div",{className:"col-3 text-white pt-3 pb-3 px-4"},r.a.createElement("div",null,r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"destination",className:"card-title pt-1 text-center",value:this.props.forModal.destination}),r.a.createElement("i",{className:"fa fa-plane-departure"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"startdate",className:"text-center",value:this.props.forModal.startdate})),r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-plane-arrival"},r.a.createElement("input",{className:"text-center",onChange:this.handleChange.bind(this),name:"enddate",value:this.props.forModal.enddate})),r.a.createElement("input",{className:"text-left",onChange:this.handleChange.bind(this),name:"details",value:this.props.forModal.details}),r.a.createElement("input",{className:"text-center",onChange:this.handleChange.bind(this),name:"price",value:this.props.forModal.price}),r.a.createElement("i",{className:"fa fa-usd"})))))),r.a.createElement(T.a,null,r.a.createElement(A.a,{color:"primary",onClick:this.editVacation.bind(this)},"Save")," ",r.a.createElement(A.a,{color:"secondary",onClick:this.toggle.bind(this)},"Cancel"))))}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"editVacation",value:function(){this.props.editVacation(this.state)}}]),t}(n.Component),M=Object(d.b)(null,function(e){return{editVacation:function(t){var a;e((a=t,function(){var e=Object(g.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/edit",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:"EDIT",data:r});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}}})(V),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={buttonClick:!1,follow:a.props.v.followers},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return"Admin"===this.props.role?r.a.createElement("div",{className:"vacations"},r.a.createElement("div",{className:"card card-image",style:{backgroundImage:"url(".concat(this.props.v.image,")")}},r.a.createElement("div",null,r.a.createElement("span",{className:"fa fa-times top-right",onClick:this.deleteVacation.bind(this)}),r.a.createElement("br",null),r.a.createElement(M,{forModal:this.props.v})),r.a.createElement("div",{className:"text-white pt-3 pb-3 px-4"},r.a.createElement("div",null,r.a.createElement("h3",{className:"card-title pt-1 text-center"},r.a.createElement("strong",null,this.props.v.destination)),r.a.createElement("p",{className:"text-center"},this.props.v.startdate,r.a.createElement("br",null),this.props.v.enddate),r.a.createElement("p",{className:"text-left"},this.props.v.details),r.a.createElement("p",{className:"price text-center"},this.props.v.price,r.a.createElement("i",{className:"fa fa-usd"})))))):r.a.createElement("div",{className:"vacations"},r.a.createElement("div",{className:"card card-image",style:{backgroundImage:"url(".concat(this.props.v.image,")")}},r.a.createElement("div",{className:"text-white pt-3 pb-3 px-4"},r.a.createElement("div",null,r.a.createElement("h3",{className:"card-title pt-1 text-center"},r.a.createElement("strong",null,this.props.v.destination)),r.a.createElement("p",{className:"text-center"},this.props.v.startdate,r.a.createElement("br",null),this.props.v.enddate),r.a.createElement("p",{className:"text-left"},this.props.v.details),r.a.createElement("p",{className:"price text-center"},this.props.v.price,r.a.createElement("i",{className:"fa fa-usd"})),r.a.createElement("button",{onClick:this.follow.bind(this)},this.state.buttonClick?"Follow":"Unfollow"," (",this.state.follow?1:this.state.follow,")")))))}},{key:"follow",value:function(){var e;this.setState(function(e){return{buttonClick:!e.buttonClick}}),this.setState(function(e){return{follow:!e.follow}}),this.state.buttonClick||this.props.dispatchVacaion((e=this.state.followers,this.props.v.id,function(){var t=Object(g.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,fetch("http://localhost:3000/follow",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,a({type:"FOLLOW",data:r});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}},{key:"deleteVacation",value:function(){var e;this.props.dispatchVacaion((e=this.props.v.id,function(){var t=Object(g.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/delete?id=+".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a({type:"DELETE",data:r});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}}]),t}(n.Component),I=Object(d.b)(null,function(e){return{dispatchVacaion:function(t){e(t)}}})(D),R=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return"Admin"===this.props.role?r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-absolute fixed-top "},r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggler","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggler"},r.a.createElement("ul",{className:"navbar-nav mr-auto smooth-scroll"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link disabled"},"Hello ",this.props.name)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(O.b,{to:"/add",className:"nav-link"},"Add New Vacation")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(O.b,{to:"/",className:"nav-link"},"Reports")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(O.b,null,r.a.createElement("span",{className:"nav-link",onClick:this.logoutBtn.bind(this)},r.a.createElement("i",{className:"fa fa-power-off"})," Logout"))))))):r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-absolute fixed-top"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"navbar-nav mr-auto smooth-scroll"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link disabled"},"Hello ",this.props.name)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(O.b,null,r.a.createElement("span",{className:"nav-link",onClick:this.logoutBtn.bind(this)},r.a.createElement("i",{className:"fa fa-power-off"})," Logout"))))))}},{key:"logoutBtn",value:function(){this.props.logOut()}}]),t}(n.Component),q=Object(d.b)(function(e){return{isLogged:e.isLogged}},function(e){return{logOut:function(){e(function(){var e=Object(g.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/logout");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:"LOGOUT",data:n});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(R),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={followers:"",favorite:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{name:this.props.firstname,role:this.props.role}),r.a.createElement("div",{className:"UserInterface"},r.a.createElement("div",{className:"col-xl-8 col-lg-11 col-md-11 col-sm-1 mx-auto mt-lg-5"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"New Vacations")),this.props.vacations.map(function(e){return r.a.createElement(I,{key:e.id,v:e})}))),r.a.createElement(p,null))}}]),t}(n.Component),P=Object(d.b)(function(e){return{vacations:e.vacations,firstname:e.firstname,role:e.role}},function(e){return{loadVacations:function(){return e()}}})(F),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={details:"",destination:"",image:"",startdate:"",enddate:"",price:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{classNameName:"Add"},r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"details",placeholder:"Description",className:"form-control"})),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"destination",placeholder:"destination",className:"form-control"})),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{type:"file",onChange:this.handleChange.bind(this),name:"image",className:"form-control"})),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"startdate",type:"date",className:"form-control"})),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"enddate",type:"date",className:"form-control"})),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange.bind(this),name:"price",type:"number",className:"form-control"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:this.add.bind(this)},"Add Vacation")))}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"add",value:function(){this.props.addVacation(this.state)}}]),t}(n.Component),B=Object(d.b)(null,function(e){return{addVacation:function(t){return e((a=t,function(){var e=Object(g.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/addvacation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:"ADD",data:r});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));var a}}})(U),J=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{name:this.props.firstname,role:this.props.role}),r.a.createElement("div",{className:"admin"},r.a.createElement("div",{className:"col-xl-8 col-lg-11 col-md-11 col-sm-1 mx-auto mt-lg-5"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"Admin Panel")),r.a.createElement(B,null),this.props.vacations.map(function(t){return r.a.createElement(I,{key:t.id,v:t,role:e.props.role})}))),r.a.createElement(p,null))}}]),t}(n.Component),G=Object(d.b)(function(e){return{vacations:e.vacations,firstname:e.firstname,role:e.role}},function(e){return{loadVacations:function(){return e()}}})(J),W=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return!0===this.props.isLogged&&"User"===this.props.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null)):!0===this.props.isLogged&&"Admin"===this.props.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null)):r.a.createElement("div",{className:"App"},r.a.createElement(x,null),r.a.createElement(p,null))}}]),t}(n.Component),H=Object(d.b)(function(e){return{isLogged:e.isLogged,role:e.role}},function(e){return{dispatch:function(t){e(t)}}})(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(66);var Y=a(24),$={vacations:[],isLogged:!1,username:"",firstname:"",role:"",msg:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,a={};switch(t.type){case"LOGIN":return(a=Object.assign({},e)).vacations=t.data.allVacations,a.isLogged=t.data.isLogged,a.username=t.data.username,a.firstname=t.data.firstname,a.role=t.data.role,a;case"LOGOUT":return(a=Object.assign({},e)).isLogged=!1,a;case"REGISTER":return(a=Object.assign({},e)).msg=t.data.msg,a;case"ADD":case"EDIT":case"DELETE":case"FOLLOW":return(a=Object.assign({},e)).msg=t.data.msg,a.vacations=t.data.allVacations,a;default:return e}},K=a(39),Q=Object(Y.c)(z,Object(Y.a)(K.a));c.a.render(r.a.createElement(d.a,{store:Q},r.a.createElement(O.a,null,r.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.ce42984c.chunk.js.map